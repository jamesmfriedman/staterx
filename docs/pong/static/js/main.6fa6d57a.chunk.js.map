{"version":3,"sources":["../../../lib/dist/registry.js","../../../lib/dist/utils.js","../../../lib/dist/create-staterx.js","../../../lib/dist/create-object.js","../../../lib/dist/react.js","../../../lib/dist/create-value.js","state.tsx","game-canvas.tsx","game-html.tsx","app.tsx","serviceWorker.ts","index.tsx"],"names":["REGISTRY","globalThis","global","window","StateRx","objects","addToRegistry","rxObj","key","genRandomString","Math","random","toString","substring","wrapDispatchSubject","dispatch$","action","next","getType","type","split","join","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","Array","k","a","j","jl","DEFAULT_CONSTANTS","createStateRx","options","overrides","_a","initialState","default","_b","_c","autoRun","_d","reducer","userReducer","state","state$","constants","createReducer","createActions","createSelectors","constant","reduce","acc","createConstant","createConstants","get","getValue","_e","Subject","_dispatchers$","action$","merge","pipe","mergeMap","obs$","dispatch","set","data","SET","reset","RESET","createBaseActions","baseActions","actions","selectors","res","createBaseReducer","_reducer$","map","distinctUntilChanged","run","subscribe","api","clone","newOptions","newInitialState","undefined","BehaviorSubject","toJSON","effects","inst","MERGE","createObject","useRx","obsInput$","deps","useMemo","useState","value","setValue","useLayoutEffect","sub","err","unsubscribe","getDeflectionAngle","r1","r2","dir","max","y","height","min","getRandomFloat","getRandomBool","loop$","interval","keyDown$","fromEvent","document","keyUp$","windowResize$","debounceTime","speed","increase","val","board","width","innerWidth","innerHeight","ball","x","dirX","dirY","serve","tick","b","currSpeed","p1State","p1","p2State","p2","ballState","boardWidth","boardHeight","newY","newBounds","scorePoint","player","moveDir","score","score$","distinctUntilKeyChanged","moveUp","moveDown","stopMove","Canvas","ref","useRef","useEffect","canvas","current","ctx","getContext","drawPlayer","fillRect","boardState","clearRect","fillStyle","half","centerX","centerY","radius","beginPath","arc","PI","fill","drawBall","className","Score","Game","Paddle","style","transform","Ball","App","renderer","setRenderer","loopSub","tap","keySub","evt","which","keycode","includes","switchMap","windowSub","initGame","zIndex","position","onClick","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.6fa6d57a.chunk.js","sourcesContent":["var getIsomorphicStore = function () {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n};\nvar store = getIsomorphicStore();\nvar REGISTRY = (store.StateRx = { objects: {} });\nexport var addToRegistry = function (rxObj) {\n    REGISTRY.objects[rxObj.key] = rxObj;\n};\n","export var genRandomString = function () {\n    return Math.random().toString(36).substring(2, 10);\n};\nexport var defaultGenId = function () {\n    return ([1e7].toString() + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n        return (c ^\n            (window.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16);\n    });\n};\nexport var ensureArray = function (items) {\n    return Array.isArray(items) ? items : [items];\n};\nexport var createConstant = function (key, constant) {\n    return key + \"/\" + constant;\n};\nexport var createConstants = function (key, constants) {\n    return constants.reduce(function (acc, constant) {\n        acc[constant] = createConstant(key, constant);\n        return acc;\n    }, {});\n};\nexport var wrapDispatchSubject = function (dispatch$) { return function (action) {\n    dispatch$.next(action);\n    return action;\n}; };\nexport var getType = function (action) {\n    return action.type.split('/', 2).join('/');\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { BehaviorSubject, Subject, merge } from 'rxjs';\nimport { genRandomString, createConstants, wrapDispatchSubject } from './utils';\nimport { distinctUntilChanged, map, mergeMap } from 'rxjs/operators';\nimport { addToRegistry } from './registry';\nvar DEFAULT_CONSTANTS = ['SET', 'RESET'];\nvar createBaseActions = function (_a) {\n    var constant = _a.constant, get = _a.get;\n    var dispatch$ = new Subject();\n    var _dispatchers$ = new Subject();\n    var action$ = merge(dispatch$, _dispatchers$.pipe(mergeMap(function (obs$) { return obs$; })));\n    var dispatch = wrapDispatchSubject(dispatch$);\n    return {\n        action$: action$,\n        set: function (data) {\n            // @ts-ignore\n            data = typeof data === 'function' ? data(get()) : data;\n            return dispatch({ type: constant.SET, data: data });\n        },\n        reset: function () { return dispatch({ type: constant.RESET }); },\n        dispatch: dispatch,\n        _dispatchers$: _dispatchers$\n    };\n};\nvar createBaseReducer = function (_a) {\n    var initialState = _a.initialState, constant = _a.constant, reducer = _a.reducer, userReducer = _a.userReducer;\n    return function (state, action) {\n        var type = action.type.split('/', 2).join('/');\n        switch (type) {\n            case constant.SET:\n                return action.data;\n            case constant.RESET:\n                return initialState;\n            default:\n                var res = reducer(state, action);\n                // if the result is the same as our initial state\n                // pass it on to the user reducer\n                return res === state ? userReducer(state, action) : res;\n        }\n    };\n};\nexport var createStateRx = function (options, overrides) {\n    var _a;\n    var initialState = options.default, _b = options.key, key = _b === void 0 ? genRandomString() : _b, _c = options.autoRun, autoRun = _c === void 0 ? true : _c, _d = options.reducer, userReducer = _d === void 0 ? function (state) { return state; } : _d;\n    var state$ = overrides.state$, constants = overrides.constants, createReducer = overrides.createReducer, createActions = overrides.createActions, createSelectors = overrides.createSelectors;\n    var constant = createConstants(key, __spreadArrays(DEFAULT_CONSTANTS, constants));\n    var get = function () { return state$.getValue(); };\n    var _e = createBaseActions({\n        constant: constant,\n        get: get\n    }), action$ = _e.action$, dispatch = _e.dispatch, baseActions = __rest(_e, [\"action$\", \"dispatch\"]);\n    var actions = __rest(createActions({\n        constant: constant,\n        get: get,\n        dispatch: dispatch\n    }), []);\n    var selectors = createSelectors === null || createSelectors === void 0 ? void 0 : createSelectors(state$);\n    var reducer = createBaseReducer({\n        constant: constant,\n        initialState: initialState,\n        reducer: createReducer({\n            constant: constant\n        }),\n        userReducer: userReducer\n    });\n    var clone = function (newOptions) {\n        var newInitialState = (newOptions === null || newOptions === void 0 ? void 0 : newOptions.default) !== undefined ? newOptions.default : get();\n        return createStateRx(__assign(__assign(__assign({}, options), { key: genRandomString(), default: newInitialState }), newOptions), __assign(__assign({}, overrides), { state$: new BehaviorSubject(newInitialState) }));\n    };\n    var _reducer$ = action$.pipe(map(function (action) { return reducer(state$.getValue(), action); }), distinctUntilChanged());\n    var toJSON = function () { return get(); };\n    var run = function () { return _reducer$.subscribe(state$); };\n    var api = __assign(__assign(__assign(__assign({}, actions), selectors), baseActions), { key: key,\n        state$: state$,\n        action$: action$,\n        constant: constant,\n        run: run,\n        get: get,\n        clone: clone,\n        dispatch: dispatch,\n        toJSON: toJSON,\n        _reducer$: _reducer$ });\n    var effects = (_a = options.effects) === null || _a === void 0 ? void 0 : _a.call(options, api);\n    autoRun && run();\n    var inst = __assign(__assign({}, api), effects);\n    addToRegistry(inst);\n    return inst;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { BehaviorSubject } from 'rxjs';\nimport { getType } from './utils';\nimport { createStateRx } from './create-staterx';\nvar createActions = function (_a) {\n    var constant = _a.constant, dispatch = _a.dispatch;\n    return {\n        merge: function (data) { return dispatch({ type: constant.MERGE, data: data }); }\n    };\n};\nvar createReducer = function (_a) {\n    var constant = _a.constant;\n    return function (state, action) {\n        var type = getType(action);\n        switch (type) {\n            case constant.MERGE:\n                return __assign(__assign({}, state), action.data);\n            default:\n                return state;\n        }\n    };\n};\nexport var createObject = function (options) {\n    if (options === void 0) { options = {}; }\n    return createStateRx(options, {\n        state$: new BehaviorSubject(options.default || {}),\n        constants: ['MERGE'],\n        createActions: createActions,\n        createReducer: createReducer\n    });\n};\n","import { useState, useLayoutEffect, useMemo } from 'react';\nexport function useRx(obsInput$, deps) {\n    var obs$ = useMemo(function () { return (typeof obsInput$ === 'function' ? obsInput$() : obsInput$); }, deps);\n    var _a = useState(\n    // @ts-ignore\n    'getValue' in obs$ ? obs$.getValue() : undefined), value = _a[0], setValue = _a[1];\n    // subscribe to observable\n    useLayoutEffect(function () {\n        var sub = obs$.subscribe(setValue, function (err) {\n            setValue(function () {\n                throw err;\n            });\n        });\n        return function () {\n            sub.unsubscribe();\n        };\n    }, [obs$]);\n    return value;\n}\n","import { BehaviorSubject } from 'rxjs';\nimport { createStateRx } from './create-staterx';\nexport var createValue = function (options) {\n    if (options === void 0) { options = {}; }\n    return createStateRx(options, {\n        state$: new BehaviorSubject(options.default),\n        constants: [],\n        createActions: function () { return ({}); },\n        createReducer: function () { return function (state) { return state; }; }\n    });\n};\n","import { createObject, createValue } from 'staterx';\nimport { interval, fromEvent } from 'rxjs';\nimport {\n  tap,\n  switchMap,\n  debounceTime,\n  map,\n  distinctUntilKeyChanged\n} from 'rxjs/operators';\n\n/**************************************************\n * Types\n **************************************************/\ntype Rect = { width: number; height: number; x: number; y: number };\n\n/**************************************************\n * Constants\n **************************************************/\nconst PADDLE_MARGIN = 128;\nconst FPS = 60;\n\n/**************************************************\n * Utils\n **************************************************/\nconst hittest = (a: Rect, b: Rect) =>\n  !(\n    a.y + a.height < b.y ||\n    a.y > b.y + b.height ||\n    a.x + a.width < b.x ||\n    a.x > b.x + b.width\n  );\n\nconst getDeflectionAngle = (r1: Rect, r2: Rect) => {\n  const diff = Math.max(0, r2.y - r1.y - r2.height + r2.height / 2) * 2;\n  const dir = diff / r1.height - 1;\n  return Math.max(-1, Math.min(1, dir));\n};\n\nconst getRandomFloat = (min: number, max: number) =>\n  Math.random() * (max - min) + min;\n\nconst getRandomBool = () => Math.random() >= 0.5;\n\n/**************************************************\n * Observables\n **************************************************/\nconst loop$ = interval((1 / FPS) * 1000);\nconst keyDown$ = fromEvent<KeyboardEvent>(document, 'keydown');\nconst keyUp$ = fromEvent<KeyboardEvent>(document, 'keyup');\nconst windowResize$ = fromEvent(window, 'resize').pipe(debounceTime(200));\n\n/**************************************************\n * States\n **************************************************/\nconst speed = createValue({\n  key: 'speed',\n  default: 500 / FPS,\n  effects: ({ set }) => ({ increase: () => set((val) => val * 1.1) })\n});\n\nexport const board = createObject({\n  key: 'board',\n  default: {\n    width: window.innerWidth,\n    height: window.innerHeight\n  }\n});\n\nexport const ball = createObject({\n  key: 'ball',\n  default: {\n    x: board.get().width / 2 - 16,\n    y: board.get().height / 2 - 16,\n    width: 32,\n    height: 32,\n    dirX: getRandomBool() ? 1 : -1,\n    dirY: getRandomFloat(-1, 1)\n  },\n  effects: () => {\n    return {\n      serve: () => {\n        speed.reset();\n        ball.merge({\n          x: board.get().width / 2 - 16,\n          y: board.get().height / 2 - 16,\n          dirX: getRandomBool() ? 1 : -1,\n          dirY: getRandomFloat(-1, 1)\n        });\n      },\n      tick: () => {\n        const currSpeed = speed.get();\n        const p1State = p1.get();\n        const p2State = p2.get();\n        const ballState = ball.get();\n        const { width: boardWidth, height: boardHeight } = board.get();\n        const { x, y, dirX, dirY, width, height } = ballState;\n\n        const newY = y + dirY * currSpeed;\n\n        const newBounds = {\n          x: x + dirX * currSpeed,\n          y: newY,\n          dirY: newY < 0 || newY > boardHeight ? dirY * -1 : dirY,\n          width,\n          height\n        };\n\n        for (const p of [p1State, p2State]) {\n          const isHit = hittest(p, newBounds);\n          if (isHit) {\n            speed.increase();\n            return ball.merge({\n              ...newBounds,\n              dirX: dirX * -1,\n              dirY: getDeflectionAngle(p, ballState)\n            });\n          }\n        }\n\n        if (x < 0 || x > boardWidth) {\n          if (x < 0) p1.scorePoint();\n          if (x > boardWidth) p2.scorePoint();\n          return ball.serve();\n        }\n\n        ball.merge(newBounds);\n      }\n    };\n  }\n});\n\nconst player = createObject({\n  default: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    moveDir: 0,\n    score: 0\n  },\n  effects: (p) => ({\n    score$: p.state$.pipe(\n      distinctUntilKeyChanged('score'),\n      map((val) => val.score)\n    ),\n    moveUp: () => p.merge({ moveDir: -1 }),\n    moveDown: () => p.merge({ moveDir: 1 }),\n    stopMove: () => p.merge({ moveDir: 0 }),\n    scorePoint: () => p.set((state) => ({ ...state, score: state.score + 1 })),\n    tick: () => {\n      const { moveDir, y, height } = p.get();\n      const s = speed.get();\n\n      moveDir &&\n        p.merge({\n          y:\n            moveDir === 1\n              ? Math.min(board.get().height - height, y + s)\n              : Math.max(0, y - s)\n        });\n    }\n  })\n});\n\nexport const p1 = player.clone({\n  key: 'p1',\n  default: {\n    x: PADDLE_MARGIN,\n    y: board.get().height / 2 - 64,\n    width: 16,\n    height: 128,\n    moveDir: 0,\n    score: 0\n  }\n});\n\nexport const p2 = player.clone({\n  key: 'p2',\n  default: {\n    x: board.get().width - PADDLE_MARGIN,\n    y: board.get().height / 2 - 64,\n    width: 16,\n    height: 128,\n    moveDir: 0,\n    score: 0\n  }\n});\n\nexport const initGame = () => {\n  // Handle the game loop\n  const loopSub = loop$\n    .pipe(\n      tap(() => {\n        ball.tick();\n        p1.tick();\n        p2.tick();\n      })\n    )\n    .subscribe();\n\n  // Bind player controls\n  const keySub = keyDown$\n    .pipe(\n      map((evt) => evt.which),\n      map((keycode) => {\n        const player = [38, 40].includes(keycode) ? p2 : p1;\n\n        switch (keycode) {\n          case 38:\n          case 87:\n            player.moveUp();\n            break;\n          case 40:\n          case 83:\n            player.moveDown();\n            break;\n        }\n        return player;\n      }),\n      switchMap((player) => keyUp$.pipe(tap(() => player.stopMove())))\n    )\n    .subscribe();\n\n  // Handle window resizing\n  const windowSub = windowResize$.subscribe(() => {\n    board.set({\n      width: window.innerWidth,\n      height: window.innerHeight\n    });\n\n    p2.merge({ x: board.get().width - PADDLE_MARGIN });\n  });\n\n  return () => [loopSub, keySub, windowSub].map((sub) => sub.unsubscribe());\n};\n","import React, { useEffect, useRef } from 'react';\nimport { useRx } from 'staterx';\nimport { ball, p1, p2, board } from './state';\n\nfunction Game() {\n  return (\n    <div className=\"board\">\n      <Score />\n      <Canvas />\n    </div>\n  );\n}\n\nfunction Canvas() {\n  const ref = useRef<HTMLCanvasElement | null>(null);\n\n  useEffect(() => {\n    const canvas = ref.current!;\n    const ctx = canvas.getContext('2d')!;\n\n    const reset = () => {\n      const boardState = board.get();\n      canvas.width = boardState.width;\n      canvas.height = boardState.height;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.fillStyle = 'greenyellow';\n    };\n\n    const drawBall = () => {\n      const { x, y, width } = ball.get();\n      const half = width / 2;\n      var centerX = x + half;\n      var centerY = y + half;\n      var radius = half;\n\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\n      ctx.fill();\n    };\n\n    const drawPlayer = (p: typeof p1 | typeof p2) => {\n      const { x, y, width, height } = p.get();\n      ctx.fillRect(x, y, width, height);\n    };\n\n    ball.state$.subscribe(() => {\n      reset();\n      drawBall();\n      drawPlayer(p1);\n      drawPlayer(p2);\n    });\n  }, []);\n\n  return <canvas className=\"canvas\" ref={ref} />;\n}\n\nfunction Score() {\n  const p1State = useRx(p1.score$);\n  const p2State = useRx(p2.score$);\n\n  return (\n    <div className=\"scores\">\n      <div className=\"score\">{p1State}</div>\n      <div className=\"score\">{p2State}</div>\n    </div>\n  );\n}\n\nexport default Game;\n","import React from 'react';\nimport { useRx } from 'staterx';\nimport { ball, p1, p2 } from './state';\n\nfunction Game() {\n  return (\n    <div className=\"board\">\n      <Score />\n      <Paddle state={p1} />\n      <Paddle state={p2} />\n      <Ball />\n    </div>\n  );\n}\n\nfunction Paddle({ state }: { state: typeof p1 | typeof p2 }) {\n  const player = useRx(state.state$);\n\n  return (\n    <div\n      className=\"paddle\"\n      style={{ transform: `translate(${player.x}px, ${player.y}px)` }}\n    />\n  );\n}\n\nfunction Ball() {\n  const ballState = useRx(ball.state$);\n\n  return (\n    <div\n      className=\"ball\"\n      style={{ transform: `translate(${ballState.x}px, ${ballState.y}px)` }}\n    />\n  );\n}\n\nfunction Score() {\n  const p1State = useRx(p1.score$);\n  const p2State = useRx(p2.score$);\n\n  return (\n    <div className=\"scores\">\n      <div className=\"score\">{p1State}</div>\n      <div className=\"score\">{p2State}</div>\n    </div>\n  );\n}\n\nexport default Game;\n","import React, { useEffect, useState } from 'react';\nimport CanvasGame from './game-canvas';\nimport HTMLGame from './game-html';\nimport { initGame } from './state';\n\nfunction App() {\n  const [renderer, setRenderer] = useState<'html' | 'canvas'>('html');\n\n  useEffect(() => {\n    initGame();\n  }, []);\n  return (\n    <>\n      <button\n        style={{ zIndex: 9, position: 'absolute' }}\n        onClick={() => setRenderer(renderer === 'canvas' ? 'html' : 'canvas')}\n      >\n        Toggle\n      </button>\n      {renderer === 'canvas' ? <CanvasGame /> : <HTMLGame />}\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}